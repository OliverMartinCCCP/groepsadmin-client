<!-- Panel header -->
<div class="panel-heading clearfix">
  <div class="pull-left">
    <a class="btn btn-default btn-toggle" ng-init="isFilterCollapsed = true " ng-class="{ 'active' : !isFilterCollapsed }" href ng-click="isFilterCollapsed = !isFilterCollapsed"><span class="glyphicon glyphicon-filter"></span>&nbsp; Filter</a>
    <select class="selectpicker" title="Opgeslagen filters" ng-model="currentFilter" ng-options="filter.naam group by filter.label for filter in opgeslagenFilters"></select>
    <button class="btn btn-default" ng-init="showSaveOptions = false" ng-click="showSaveOptions = !showSaveOptions" ng-hide="showSaveOptions || currentFilter.name"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span></button>
    <form ng-show="showSaveOptions" class="form-inline">
      <input type="text" placeholder="Naam van de filter" class="form-control">
      <select class="selectpicker" title="Beschikbaar voor" ng-model="currentFilter" >
        <option>Groep x</option>
      </select>
      <button class="btn btn-default" ng-init="showSaveOptions = false"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span></button>
    </form>
  </div>

  <div class="pull-right">
    <!-- <a href="#/lid/toevoegen" class="btn-minimal"><span class="glyphicon glyphicon-plus"></span>&nbsp; Nieuw lid toevoegen</a> -->
    <a  data-toggle="modal" href="#exportModal" class="btn-minimal"><span class="glyphicon glyphicon-share-alt"></span>&nbsp; Exporteren</a>
  </div>
</div>

<!-- Filter panel -->
<div id="filterCollapse" class="panel-filter row-fluid clearfix collapse" uib-collapse="isFilterCollapsed">

  <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6 col-xxs-12" ng-repeat="selectedCriteria in geslecteerdeCriteria">
    <div class="btn-group filter-option">
      <button type="button" class="btn btn-filter dropdown-toggle" data-toggle="dropdown">
        <span class="filter-option-title">{{ selectedCriteria.title }}</span>
        <span class="filter-option-subtitle"><span ng-repeat="selectedCriteriaItem in selectedCriteria.items">{{selectedCriteriaItem.label}}<span ng-if="!$last">, </span></span></span>
        <a ng-click="closeCiretia()" class="filter-option-close"><span class="glyphicon glyphicon-remove"></span></a>
      </button>
      <div class="dropdown-menu">
        <ul class="checklist">
          <li class="list-heading">Functies leden</li>
          <li><label for="chk1"><input type="checkbox" id="chk1" name="leden" value="akab">Akabe-leden</label></li>
          <li><label for="chk2"><input type="checkbox" id="chk2" name="leden" value="kap">Kapoenen</label></li>
          <li><label for="chk3"><input type="checkbox" id="chk3" name="leden" value="k">Kabouters</label></li>
          <li><label for="chk4"><input type="checkbox" id="chk4" name="leden" value="w">Welpen</label></li>
          <li><label for="chk5"><input type="checkbox" id="chk5" name="leden" value="jg">Jong gidsen</label></li>
          <li><label for="chk6"><input type="checkbox" id="chk6" name="leden" value="jv">Jong verkenners</label></li>
          <li><label for="chk7"><input type="checkbox" id="chk7" name="leden" value="g">Gidsen</label></li>
          <li><label for="chk8"><input type="checkbox" id="chk8" name="leden" value="v">Verkenners</label></li>
          <li><label for="chk9"><input type="checkbox" id="chk9" name="leden" value="jin">Jin</label></li>
          <li class="list-heading">Functies leiding</li>
          <li><label for="chk10"><input type="checkbox" id="chk10" name="leiding" value="akel" />Leiding in Akabetak</label></li>
          <li><label for="chk11"><input type="checkbox" id="chk11" name="leiding" value="aake" />Adj. leiding in Akabetak</label></li>
          <li><label for="chk12"><input type="checkbox" id="chk12" name="leiding" value="kpl" />Kapoenenleiding</label></li>
          <li><label for="chk13"><input type="checkbox" id="chk13" name="leiding" value="akpl" />Adj. Kapoenenleiding</label></li>
          <li><label for="chk14"><input type="checkbox" id="chk14" name="leiding" value="kwl" />Kabouter-Welpenleiding</label></li>
          <li><label for="chk15"><input type="checkbox" id="chk15" name="leiding" value="akwl" />Adj. Kabouter-Welpenleiding</label></li>
          <li><label for="chk16"><input type="checkbox" id="chk16" name="leiding" value="jgvl" />Jonggidsen-Jongverkennerleiding</label></li>
          <li><label for="chk17"><input type="checkbox" id="chk17" name="leiding" value="ajgv" />Adj. Jonggidsen-Jongverkennerleiding</label></li>
          <li><label for="chk18"><input type="checkbox" id="chk18" name="leiding" value="gvl" />Gidsen-Verkennerleiding</label></li>
          <li><label for="chk19"><input type="checkbox" id="chk19" name="leiding" value="agvl" />Adj. Gidsen-Verkennerleiding</label></li>
          <li><label for="chk20"><input type="checkbox" id="chk20" name="leiding" value="gra" />Groepsaalmoezenier</label></li>
          <li><label for="chk21"><input type="checkbox" id="chk21" name="leiding" value="agra" />Adj. Aalmoezenier</label></li>
          <li><label for="chk22"><input type="checkbox" id="chk22" name="leiding" value="grb" />Groepsbeheerder</label></li>
          <li><label for="chk23"><input type="checkbox" id="chk23" name="leiding" value="grl" />Groepsleiding</label></li>
          <li><label for="chk24"><input type="checkbox" id="chk24" name="leiding" value="agrl" />Adj. Groepsleiding</label></li>
          <li><label for="chk25"><input type="checkbox" id="chk25" name="leiding" value="grlp" />Groepsleidingsploeg</label></li>
          <li><label for="chk26"><input type="checkbox" id="chk26" name="leiding" value="grs" />Secretaris</label></li>
          <li><label for="chk27"><input type="checkbox" id="chk27" name="leiding" value="agrs" />Adj. Secretaris</label></li>
          <li class="list-heading">Andere functies</li>
          <li><label for="chk28"><input type="checkbox" id="chk28" name="andere" value="ab" />Adres Briefwisseling</label></li>
          <li><label for="chk29"><input type="checkbox" id="chk29" name="andere" value="grc" />Groepscomite</label></li>
          <li><label for="chk30"><input type="checkbox" id="chk30" name="andere" value="ll" />Los Lid</label></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="btn-group" >
    <button type="button" class="btn btn-filter dropdown-toggle" data-toggle="dropdown" title="Filter criteria toevoegen">
      <span class="glyphicon glyphicon-plus"></span>
      <span class="hidden-label">Filter criteria toevoegen</span>
    </button>
    <ul class="dropdown-menu">
      <li ng-repeat="criteriaItem in criteria"><a href="#/">{{ criteriaItem.title }}</a></li>
    </ul>
  </div>
      <!-- <a href="#" class="btn btn-filter btn-filter-columns"><span class="glyphicon glyphicon-th-list"></span></a> -->
</div>

<!-- Table -->
<table id="leden" class="table table-responsive table-hover" infinite-scroll="nextPage()" infinite-scroll-disabled="(busy || end )" infinite-scroll-distance="1" infinite-scroll-immediate-check="true">
  <thead>
    <tr>
      <th ng-repeat="kolom in currentFilter.kolommen">{{ kolom.label }}
      <i class="fa fa-sort-alpha-asc sort" ng-class="{'first-sort' : sortering(kolom.id, true) == 1, 'second-sort' : sortering(kolom.id, true) == 2, 'third-sort' : sortering(kolom.id, true) == 3 }" aria-hidden="true" ng-click="addSort(kolom.id, true)"></i>
      <i class="fa fa-sort-alpha-desc sort" ng-class="{'first-sort' : sortering(kolom.id, false) == 1, 'second-sort' : sortering(kolom.id, false) == 2, 'third-sort' : sortering(kolom.id, false) == 3 }" aria-hidden="true" ng-click="addSort(kolom.id, false)"></i></th>
      <th><i class="fa fa-table" aria-hidden="true"></i></th>
    </tr>
  </thead>
  <tbody>
    <tr  ng-repeat="lid in leden" ga-lid="{{lid.id}}" ng-init="meerLaden($last)" >
      <td ng-repeat="kolom in currentFilter.kolommen">
        <div class="fade-in slide-in">{{lid.waarden[$index]}}</div>
      </td>
      <td class="t-caret" role="button"><span class="caret"></span></td>
    </tr>
  </tbody>
</table>
<footer class="panel-footer clearfix" in-view="test($inview)">
  <div ng-show='busy && !end ' class="loading" in-view="test($inview)"><i class="fa fa-spinner fa-pulse"></i>Leden aan het ophalen... </div>
</footer>

<!-- Panel footer -->
<!--
<footer class="panel-footer clearfix">
  <small class="pagination-info pull-left">{{ offset + 1 }} tot {{ offset + aantalPerPagina }} van {{ totaalAantalLeden }}</small>
  <ul class="pagination pull-right" >
    <li><a href="#">«</a></li>
    <li><a href="#">1</a></li>
    <li><a href="#">2</a></li>
    <li><a href="#">3</a></li>
    <li><a href="#">4</a></li>
    <li><a href="#">5</a></li>
    <li><a href="#">»</a></li>
  </ul>
</footer>
-->
